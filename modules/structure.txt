
Structure
---------


## rot_angles
   Main function. Reads input data, obtains the angles for each method,
   and produces the final plots.


1. readData
   Read input data for both galaxies.


2. procParams
   Reads all the parameters needed to process the data.

   1. inc_PA_grid
      Grid of (i, theta) angles.
   2. angles2Plane
      Convert each pair of (i, theta) angles to its "plane form":
      a*x + b*y + c*z + d = 0.
      1. gal_theta
         Convert position angle 'Theta' (N-->E) to 'theta' (W-->E).


3. galax_struct_dist
   Process all data.

   1. dist2CloudCenter
      3D distance between cluster-galaxy center and its error, in parsec.
      1. MCs_data
         Read fixed data for each galaxy (center, distance, error in distance.
      2. dist_err_mag_2_pc
         Convert the error in distance modulus to an error, in parsec.
      3. dist_err_2_pts
         Error for the cluster-galaxy center distances, in parsec. 

   2. dist_filter
      Filter clusters based on their projected angular distances ('rho').
      1. get_rho_phi
         Projected angular distance cluster-galaxy center, and position angle
         of cluster.

   3. i_PA_DeprjDist
      Deprojected distance values for each (i, PA) point in the defined grid.
      1. get_deproj_dist
         1. vdm_2001_dep_dist_kpc
            Use Eq. (8) from van der Marel & Cioni (2001).

   4. xyz_coords
      Coordinates of filtered clusters in the (x,y,z) system.

   5. Methods

      1.  m1_ccc_map
          1. ccc
      2. interp_dens_map

      3. m2_fix_plane_perp_dist
      4. interp_dens_map

      5. m3_min_perp_distance
         1. perp_error
      6. interp_dens_map

      2. get_angles
         1. angle_betw_planes
      3. ccc_sum_d_for_best_fit
         1. get_deproj_dist
         2. ccc
         3. perp_error
      4. monte_carlo_errors
         1. draw_rand_dep_dist
         2. draw_rand_dist_mod
      5. cov_ellipse

4. make_plots
   Produce final plots.